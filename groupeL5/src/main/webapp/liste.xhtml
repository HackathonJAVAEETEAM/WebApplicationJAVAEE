<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf" 
xmlns:h="http://xmlns.jcp.org/jsf/html" 
xmlns="http://www.w3.org/1999/xhtml" 
xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:p="http://primefaces.org/ui">     

<head>
  <title>Liste</title>
  <meta charset="utf-8"></meta>
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"></link>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="listScript.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js" integrity="sha512-qzgd5cYSZcosqpzpn7zF2ZId8f/8CHmFKZ8j7mU4OUXTNRd5g+ZHBPsgKEwoqxCtdQvExE5LprwwPAgoicguNg==" crossorigin="anonymous"></script>
  
<style>
table, td {
  border-collapse: collapse;
  border: 1px solid #000;
}

thead {
  display: table; /* to take the same width as tr */
  width: calc(100% - 15px); /* - 17px because of the scrollbar width */
}

tbody {
  display: block; /* to enable vertical scrolling */
  max-height: 65vh; /* e.g. */
  overflow-y: auto; /* keeps the scrollbar even if it doesn't need it; display purpose */
}

th, td {
  width: 33.33%; /* to enable "word-break: break-all" */
  padding: 5px;
  word-break: break-all; /* 4. */
}

tr {
  display: table; /* display purpose; th's border */
  width: 100%;
  box-sizing: border-box; /* because of the border (Chrome needs this line, but not FF) */
}

td {
  text-align: center;
  border-bottom: none;
  border-left: none;
}

*::-webkit-scrollbar {
  width: 15px;
}

*::-webkit-scrollbar-track {
  background: white;
}

*::-webkit-scrollbar-thumb {
  background-color: rgb(212,212,212,0.7);
  border-radius: 7px;
}
</style>
	
</head>
<h:body>
	
		
	
	
	<div class="container">
	  <h2>Liste des étudiants</h2>
	  	<h:form>
		  <ul class="nav nav-tabs" style="overflow-y: hidden;">
		    <li class="active"><a data-toggle="tab" href="#home">Informatique de gestion</a></li>
		    <li><a data-toggle="tab" href="#menu1">Assistant(e) de direction</a></li>
		    <li><a data-toggle="tab" href="#menu2">Comptabilité</a></li>
		    <li style="float:right;"><h:commandLink value = "Déconnexion" action = "#{sessionControl.logOut()}"></h:commandLink></li>
		    <li style="float:right;"><a href="#" data-toggle="modal" data-target="#myModal">Importer</a></li>  
		  </ul>
		 </h:form>
	
	  <div class="tab-content">
	    
	    <div id="home" class="tab-pane fade in active">
	    	<br></br>
	      		<form>
					<div class="form-group">
						<input id="igInput" class="form-control" type="text" placeholder="Rechercher.."/>
					</div>
				</form>
		      <h:dataTable border="1" value = "#{sectionControl.getIgList()}" var = "etudiant"
				styleClass = "tablesorter table table-responsive w-100 d-block d-md-table"
				id= "igTable"
				tableStyle="table-layout: auto;"
				headerClass = "etudiantTableHeader"
				rowClasses = "etudiantTableOddRow,etudiantTableEvenRow">
		
				<h:column>
			    	<f:facet name = "header">Matricule ⇅</f:facet>
			    	#{etudiant.getMatricule()}
			    </h:column>
			    <h:column styleClass ="nomClass">
			    <f:facet name = "header">Nom des eleves ⇅</f:facet>
			    	<h:form>
					    <a href ="#" jsf:action ="#{etudiantControl.doGetDetails(etudiant)}">#{etudiant.getNom()}</a>
				    </h:form>
			     </h:column>
			     <h:column>
		       		<f:facet name="header" class="myClasse">Classe ⇅</f:facet>
		      		#{etudiant.classe}
		       </h:column>
		    </h:dataTable>
	    </div>
	    
	    <div id="menu1" class="tab-pane fade">
	    	<br></br>
	    	<form>
				<div class="form-group">
					<input id="adInput" class="form-control" type="text" placeholder="Rechercher.."/>
				</div>
			</form>
	      <h:dataTable border="1" value = "#{sectionControl.getAdList()}" var = "etudiant"
			styleClass = "tablesorter table table-responsive w-100 d-block d-md-table"
			id= "adTable"
			headerClass = "etudiantTableHeader"
			rowClasses = "etudiantTableOddRow,etudiantTableEvenRow">
	
	
			<h:column>
		    	<f:facet name = "header">Matricule ⇅</f:facet>
		    	#{etudiant.getMatricule()}
		    </h:column>
		    <h:column>
		    <f:facet name = "header">Nom des eleves ⇅</f:facet>
		    	<h:form>
				    <a href ="#" jsf:action ="#{etudiantControl.doGetDetails(etudiant)}">#{etudiant.nom}</a>
			    </h:form>
		     </h:column>
		     <h:column>
	       <f:facet name="header" class="myClasse">Classe ⇅</f:facet>
	      #{etudiant.classe}
	       </h:column>
	    </h:dataTable>

	    </div>
	    
	    <div id="menu2" class="tab-pane fade">
	    	<br></br>
	         <form>
				<div class="form-group">
					<input id="ctInput" class="form-control" type="text" placeholder="Rechercher.."/>
				</div>
			</form>
	      <h:dataTable border="1" value = "#{sectionControl.getCtList()}" var = "etudiant"
			styleClass = "tablesorter table table-responsive w-100 d-block d-md-table"
			id= "ctTable"
			headerClass = "etudiantTableHeader"
			rowClasses = "etudiantTableOddRow,etudiantTableEvenRow">
	
	
			<h:column>
		    	<f:facet name = "header">Matricule ⇅</f:facet>
		    	#{etudiant.getMatricule()}
		    </h:column>
		    <h:column>
		    <f:facet name = "header">Nom des eleves ⇅</f:facet>
		    	<h:form>
				    <a href ="#" jsf:action ="#{etudiantControl.doGetDetails(etudiant)}">#{etudiant.nom}</a>
			    </h:form>
		     </h:column>
		     <h:column>
	       <f:facet name="header" class="myClasse">Classe ⇅</f:facet>
	      #{etudiant.classe}
	       </h:column>
	    </h:dataTable>
	    </div>
	    
	  </div>
	</div>
	
	<!-- Modal -->
	  <div class="modal fade" id="myModal" role="dialog">
	    <div class="modal-dialog">
	    
	      <!-- Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal"></button>
	          <h4 class="modal-title">Importer un fichier au format Excel (.xlsx)</h4>
	        </div>
	        <div class="modal-body">
	          <div class="progress">
				  <div class="progress-bar progress-bar-striped active" role="progressbar"
				  aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
			  </div>	  
			</div>
			<h:form enctype="multipart/form-data">
			    <h:inputFile value="#{bean.file}">
			        <f:ajax listener="#{bean.save}" />
			    </h:inputFile>
			</h:form>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	      
	    </div>
	  </div>
</h:body>
</html>