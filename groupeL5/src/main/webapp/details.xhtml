<!DOCTYPE html>
<html xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a4j="http://richfaces.org/a4j">
<head>
  <title>Details</title>
  <meta charset="utf-8"></meta>
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"></link> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"></link>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="ressources/css/style.css"></link>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->
  <style>

nav ul{
    list-style-type: none;
}

nav ul li{
    width: 40%;
}

nav ul::after{
    content: "";
    display: table;
    clear: both;
}

nav a{
    display: block;
    text-decoration: none;
    color: black;
    border-top: 1px solid transparent;
    border-bottom: 2px solid transparent;
    padding: 20px 0px;
}

nav a:hover{
    color: orange;
    border-bottom: 2px solid gold;
}

.sous{
    display: block;
    box-shadow: 1px 1px 2px #CCC;
    background-color: white;
}
nav > ul li:hover .sous{
    display: block;
}
.sous li{
    width: 100%;
}
.sous a{
    padding: 10px;
    border-bottom: none;
}
.sous a:hover{
    border-bottom: none;
    background-color: RGBa(200,200,200,0.1);
}
.deroulant > a::after{
    content:" ▼";
    font-size: 12px;
}
  </style>
  
</head>
<body>
	<center><u><h1 style="color:#069">Details de l'étudiant </h1></u></center>
	
	 <h:dataTable style="width:80%" value = "#{etudiantControl.etudiant}" var = "etudiant"
		styleClass = "etudiantTable2"
		headerClass = "etudiantTableHeader2"
		rowClasses = "etudiantTableOddRow2,etudiantTableEvenRow2"> 
		
		<h:column>                    
	    	<f:facet name = "header">Id</f:facet>                    
	    	#{etudiantControl.getEtudiant().getId()}
	    </h:column>
	    <h:column>
	    	<f:facet name = "header">Nom des eleves</f:facet>
	    	#{etudiantControl.getEtudiant().getNom()}
		 </h:column>
	       <h:column>
		    <f:facet name="header">Matricule</f:facet>
		    #{etudiantControl.getEtudiant().getMatricule()}
	     </h:column>
	     <h:column>
	     	<f:facet name="header">Classe</f:facet>
	    	#{etudiantControl.getEtudiant().getClasse()}
	     </h:column>
	     <h:column>
	     	<f:facet name="header">Credits valides</f:facet>
	    	#{etudiantControl.getEtudiant().getCreditsValides()}
	     </h:column>
	     <h:column>
	     	<f:facet name="header">Credits totaux</f:facet>
	    	#{etudiantControl.getEtudiant().getCreditTot()}
	     </h:column>
 </h:dataTable> 
<br/>
<br/>
<br/>
<br/>

<h:form>
	<div class="left-half">
		<nav>
			<ui:repeat value= "#{etudiantControl.getEtudiant().getUE()}" var="ue">
				<ul>
				  <li class="deroulant">
				    
				   	<p><b>#{ue.getUE().getNom()} #{ue.getUE().getTotalCredit()} Crédits <span style="float:right;">#{ue.getPoints()}</span> </b>
						 <h:selectBooleanCheckbox  value= "#{ue.reussi}" class="ueCheckbox">
						 </h:selectBooleanCheckbox>
					 </p>
					 <ui:repeat value="#{ue.getAA()}" var="aa">
					 	<ul class="sous">
				      	 	<li>  	
								<p>#{aa.getAA().getNom()} #{aa.getAA().getCreditAA()} Crédit(s) <span style="float:right;">#{aa.getPoints()}</span>
									<h:selectBooleanCheckbox value= "#{aa.reussi}" class="aaCheckbox">
									</h:selectBooleanCheckbox>
								</p>
				       		</li>
				       	</ul>
			       </ui:repeat>
				  </li>
			   </ul>
			</ui:repeat>
		</nav>
	</div>
	<h:commandButton action = "#{etudiantControl.persist()}" value = "Sauvegarder" />
</h:form>

<h:form>
<h:commandButton action = "#{navigationController.goToHome()}" value = "Retour" />
</h:form>
</body>
</html>